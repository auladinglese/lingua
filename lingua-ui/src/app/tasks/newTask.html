<div class="container-fluid">
  <div class="row">
    <div class="col-sm-10 offset-sm-1 col-md-8 col-lg-6 col-xl-5 new-task">
      <form ng-submit="task.saveTask()">
        <fieldset>
          <h3 class="text-primary">NEW / EDIT TASK TEMPLATE</h3>

          <div class="form-group">
            <label for="level">Level</label>
            <select class="form-control" ng-model="task.task.level">
              <option disabled selected value> -- Select Level -- </option>
              <option value="Beginner">Beginner</option>
              <option value="Intermediate">Intermediate</option>
              <option value="Advanced">Advanced</option>
            </select>
          </div>

          <div class="form-group">
            <label for="category">Category</label>
            <select class="form-control" ng-model="task.task.category">
              <option disabled selected value> -- Select Category -- </option>
              <option value="Grammar">Grammar</option>
              <option value="Reading">Reading</option>
              <option value="Writing">Writing</option>
              <option value="Listening">Listening</option>
            </select>
          </div>

          <div class="form-group">
            <label for="subject">Subject</label>
            <input type="text" class="form-control" ng-model="task.task.subject" placeholder="e.g. Food">
          </div>

          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" ng-model="task.task.name" placeholder="e.g. Ordering at a restaurant">
          </div>

          <div class="form-group">
            <label for="source">Source</label>
            <input type="text" class="form-control" ng-model="task.task.source" placeholder="e.g. Url to youtube video">
          </div>

          <h5 class="text-info">QUESTIONS</h5>

          <div class="questions" ng-repeat="questions in task.task.questions track by $index" ng-init="$indexQ = $index">
            <div class="btn btn-danger del" ng-click="task.deleteQuestion($indexQ)">&times;</div>

            <div class="form-group">
              <label class="text-info" for="question">Question {{$index+1}}</label>
              <input type="text" class="form-control" ng-model="task.task.questions[$indexQ].question" required>
            </div>

            <fieldset class="form-group">
              <div class="form-check">
                <label class="form-check-label">
                <input type="radio" class="form-check-input" ng-model="task.task.questions[$indexQ].type" value="open" ng-click="task.clearAnswers($indexQ)">
                Open Answer
              </label>
              </div>
              <div class="form-check">
                <label class="form-check-label">
                <input type="radio" class="form-check-input" ng-model="task.task.questions[$indexQ].type" value="multi">
                Multiple Choice
              </label>
              </div>
            </fieldset>

            <div class="answers" ng-show="task.task.questions[$indexQ].type == 'multi'">
              <h6 class="text-success">Q{{$index+1}} ANSWERS</h6>

              <div ng-repeat="answer in task.task.questions[$indexQ].answers track by $index" ng-if="task.task.questions[$indexQ].type == 'multi'">
                <div class="form-group">
                  <div class="btn btn-secondary del" ng-click="task.deleteAnswer($indexQ, $index)">&times;</div>
                  <label>Answer {{$index+1}}</label>
                  <input type="text" class="form-control" ng-model="task.task.questions[$indexQ].answers[$index]">
                </div>
              </div>

              <button type="button" class="btn btn-outline-success" ng-click="task.addAnswer($indexQ)">Add answer</button>
            </div>
          </div>

          <button type="button" class="btn btn-outline-info" ng-click="task.addQuestion()">Add question</button>

          <button type="submit" class="btn btn-primary btn-lg btn-block saveBtn">Save task template</button>
        </fieldset>
      </form>
    </div>
  </div>
</div>
